(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={form:"ContactFrom_form__1FTiq",formInput:"ContactFrom_formInput__uvetx",formField:"ContactFrom_formField__adwmr",errorMessage:"ContactFrom_errorMessage__21Ni7"}},22:function(t,e,n){t.exports={inputField:"Filter_inputField__2xgV2",input:"Filter_input__2DoVp"}},23:function(t,e,n){t.exports={contactListItem:"ContactListItem_contactListItem__2urGF",btn:"ContactListItem_btn__2d1l9"}},32:function(t,e,n){t.exports={searchField:"FormInput_searchField__1vQV9"}},63:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(11),o=n.n(r),u=n(6),s=n(13),i=n(14),b=n(17),l=n(16),d=n(7),j=n(3),f=n(12),h=function(t){return t.phonebook.filter},O=function(t){return t.phonebook.contacts},m=Object(f.a)([h,O],(function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))})),C=n(9),p=n.n(C),v=n(2),x=Object(v.b)("contacts/fetchContactsRequest"),g=Object(v.b)("contacts/fetchContactsSuccess"),_=Object(v.b)("contacts/fetchContactsError"),F=Object(v.b)("contacts/addContactRequest"),S=Object(v.b)("contacts/addContactSuccess"),y=Object(v.b)("contacts/addContactError"),k=Object(v.b)("contacts/deleteContactRequest"),q=Object(v.b)("contacts/deleteContactSuccess"),E=Object(v.b)("contacts/deleteContactError"),N={addContactRequest:F,addContactSuccess:S,addContactError:y,filterContacts:Object(v.b)("contacts/add"),deleteContactRequest:k,deleteContactSuccess:q,deleteContactError:E,fetchContactsRequest:x,fetchContactsSuccess:g,fetchContactsError:_},R=N.fetchContactsRequest,I=N.fetchContactsSuccess,w=N.fetchContactsError,L=N.addContactRequest,D=N.addContactSuccess,M=N.addContactError,A=N.deleteContactRequest,P=N.deleteContactSuccess,V=N.deleteContactError;p.a.defaults.baseURL="http://localhost:4040";var J=function(){return function(t){t(R()),p.a.get("/contacts").then((function(e){var n=e.data;return t(I(n))})).catch((function(e){return t(w(e))}))}},T=function(t,e){return function(n){var c={name:t,number:e};n(L()),p.a.post("/contacts",c).then((function(t){var e=t.data;return n(D(e))})).catch((function(t){return n(M(t))}))}},z=function(t){return function(e){e(A()),p.a.delete("/contacts/".concat(t)).then((function(){return e(P(t))})).catch((function(t){return e(V(t))}))}},B=n(18),G=n(32),Q=n.n(G),U=n(1),H=function(t){var e=t.classname,n=Object(B.a)(t,["classname"]);return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("input",Object(d.a)({className:"".concat(Q.a.searchField," ").concat(e)},n))})};H.defaultProps={required:!1,placeholder:"",name:"",className:"",type:"text",value:"",onChange:function(){}};var K=H,W={type:"text",value:"",name:"name",required:!0},X={type:"text",value:"",name:"number",required:!0},Y=n(64),Z=n(10),$=n.n(Z),tt=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(j.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number;if(!t.props.contacts.find((function(t){return t.name===c||t.number===a})))return t.props.onSubmit(c,a),void t.reset();alert("".concat(c," is already in contacts")),t.reset()},t.reset=function(){t.setState({name:"",number:""})},t}return Object(i.a)(n,[{key:"render",value:function(){var t=Object(Y.a)(),e=Object(Y.a)(),n=this.state,c=n.name,a=n.number,r=this.handleChange,o=this.handleSubmit;return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("form",{className:$.a.form,onSubmit:o,children:[Object(U.jsxs)("div",{className:$.a.formInput,children:[Object(U.jsx)("label",{htmlFor:t,children:"Name"}),Object(U.jsx)(K,Object(d.a)(Object(d.a)({onChange:r},W),{},{value:c,className:$.a.formField})),Object(U.jsx)("label",{htmlFor:e,children:"Number"}),Object(U.jsx)(K,Object(d.a)(Object(d.a)({onChange:r},X),{},{value:a,className:$.a.formField}))]}),Object(U.jsx)("button",{type:"submit",children:"Add contact"})]})})}}]),n}(c.Component),et=Object(u.b)((function(t){return{contacts:O(t)}}),(function(t){return{onSubmit:function(e,n){return t(T(e,n))}}}))(tt),nt=n(22),ct=n.n(nt),at=function(t){var e=t.filter,n=t.onChange,c=Object(Y.a)();return Object(U.jsxs)("div",{className:ct.a.inputField,children:[Object(U.jsx)("label",{htmlFor:c,children:"Find contacts by name"}),Object(U.jsx)("input",{className:ct.a.input,id:c,type:"text",value:e,onChange:n})]})};at.defaultProps={filter:"",onChange:function(){}};var rt,ot,ut=Object(u.b)((function(t){return{filter:h(t)}}),(function(t){return{onChange:function(e){return t(N.filterContacts(e.target.value))}}}))(at),st=n(23),it=n.n(st),bt=function(t){var e=t.name,n=t.number,c=t.onClick;return Object(U.jsxs)("li",{className:it.a.contactListItem,children:[Object(U.jsxs)("p",{children:[e,": ",n]}),Object(U.jsx)("button",{className:it.a.btn,type:"button",onClick:c,children:"Delete"})]})},lt=Object(u.b)((function(t){return{contacts:m(t)}}),(function(t){return{onClick:function(e){return t(z(e))}}}))((function(t){var e=t.contacts,n=t.onClick,c=e.map((function(t){var e=t.id,c=Object(B.a)(t,["id"]);return Object(U.jsx)(bt,Object(d.a)(Object(d.a)({},c),{},{onClick:function(){return n(e)}}),e)}));return Object(U.jsx)("ul",{children:c})})),dt=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(U.jsxs)("div",{children:[Object(U.jsx)("h1",{children:"Phonebook"}),Object(U.jsx)(et,{}),Object(U.jsx)("h2",{children:"Contacts"}),Object(U.jsx)(ut,{}),this.props.loading&&Object(U.jsx)("h1",{children:"...Loading"}),Object(U.jsx)(lt,{})]})}}]),n}(c.Component),jt=Object(u.b)((function(t){return{loading:(e=t,e.phonebook.loading)};var e}),(function(t){return{fetchContacts:function(){return t(J())}}}))(dt),ft=function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(jt,{})})},ht=n(15),Ot=n(8),mt=n(33),Ct=n.n(mt),pt=n(4),vt=Object(v.c)([],(rt={},Object(j.a)(rt,N.fetchContactsSuccess,(function(t,e){return e.payload})),Object(j.a)(rt,N.addContactSuccess,(function(t,e){var n=e.payload;return[].concat(Object(ht.a)(t),[n])})),Object(j.a)(rt,N.deleteContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),rt)),xt=Object(v.c)(!1,(ot={},Object(j.a)(ot,N.fetchContactsRequest,(function(){return!0})),Object(j.a)(ot,N.fetchContactsSuccess,(function(){return!1})),Object(j.a)(ot,N.fetchContactsError,(function(){return!1})),Object(j.a)(ot,N.addContactRequest,(function(){return!0})),Object(j.a)(ot,N.addContactSuccess,(function(){return!1})),Object(j.a)(ot,N.addContactError,(function(){return!1})),Object(j.a)(ot,N.deleteContactRequest,(function(){return!0})),Object(j.a)(ot,N.deleteContactSuccess,(function(){return!1})),Object(j.a)(ot,N.deleteContactError,(function(){return!1})),ot)),gt=Object(v.c)("",Object(j.a)({},N.filterContacts,(function(t,e){return e.payload}))),_t=Object(pt.b)({contacts:vt,filter:gt,loading:xt}),Ft=[].concat(Object(ht.a)(Object(v.d)({serializableCheck:{ignoredActions:[Ot.a,Ot.f,Ot.b,Ot.c,Ot.d,Ot.e]}})),[Ct.a]),St=Object(v.a)({reducer:{phonebook:_t},middleware:Ft,devTools:!1});o.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(u.a,{store:St,children:Object(U.jsx)(ft,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.65982d8e.chunk.js.map